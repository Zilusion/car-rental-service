<script lang="ts">
	import { Car, Send, Heart, Github } from '@lucide/svelte';
	import { resolve } from '$app/paths';
	import { Button } from '$lib/components/ui/button';
	import { Separator } from '$lib/components/ui/separator';
	import { Input } from '$lib/components/ui/input';
	import { toast } from 'svelte-sonner';

	// –ü–∞—Å—Ö–∞–ª–∫–∞ –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏
	function handleSubscribe() {
		const promise = new Promise((resolve) => setTimeout(resolve, 1000));
		toast.promise(promise, {
			loading: '–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≥–æ–ª—É–±—è...',
			success: '–í—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã! (–ù–æ –º—ã –≤–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–∏—à–ª–µ–º)',
			error: '–ì–æ–ª—É–±—å —É—Å—Ç–∞–ª'
		});
	}

	// –ü–∞—Å—Ö–∞–ª–∫–∞ –¥–ª—è "–°–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏"
	function handleSupport() {
		toast('–û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å–ø—è—Ç üò¥', {
			description: '–ü–æ–º–æ—â–∏ –Ω–µ –±—É–¥–µ—Ç, –ø–æ–∫–∞',
			action: {
				label: '–ü–æ–Ω—è—Ç–Ω–æ',
				onClick: () => console.log('User accepted fate')
			}
		});
	}
</script>

<footer class="bg-zinc-950 text-zinc-400 py-16 mt-auto border-t border-zinc-900">
	<div class="container mx-auto px-4 max-w-7xl">
		<div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
			<!-- –ö–æ–ª–æ–Ω–∫–∞ 1: –ë—Ä–µ–Ω–¥ -->
			<div class="col-span-1 md:col-span-1 space-y-6">
				<a href={resolve('/')} class="flex items-center gap-2 group">
					<div
						class="flex h-10 w-10 items-center justify-center rounded-xl bg-white transition-all group-hover:bg-indigo-500 group-hover:text-white"
					>
						<Car class="h-6 w-6 text-zinc-950 group-hover:text-white transition-colors" />
					</div>
					<span class="text-2xl font-black tracking-tighter text-white">Rental</span>
				</a>
				<p class="text-sm leading-relaxed text-zinc-500">
					–ú—ã –¥–∞–µ–º –º–∞—à–∏–Ω—ã, –≤—ã –¥–∞–µ—Ç–µ –≥–∞–∑. –ü—Ä–æ—Å—Ç–æ–π –æ–±–º–µ–Ω —Ü–µ–Ω–Ω–æ—Å—Ç—è–º–∏ –≤ —á–µ—Ä—Ç–µ –ú–ö–ê–î –∏ –Ω–µ–º–Ω–æ–≥–æ –∑–∞ –Ω–µ–π.
				</p>
			</div>

			<!-- –ö–æ–ª–æ–Ω–∫–∞ 2: –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
			<div>
				<h4 class="text-white font-bold mb-6">–ì–∞—Ä–∞–∂</h4>
				<ul class="space-y-4 text-sm">
					<li>
						<a href={resolve('/')} class="hover:text-indigo-400 transition-colors">–í–µ—Å—å –∞–≤—Ç–æ–ø–∞—Ä–∫</a>
					</li>
					<li>
						<a href={resolve('/bookings')} class="hover:text-indigo-400 transition-colors"
							>–ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</a
						>
					</li>
					<li>
						<a
							href={resolve('/tariffs')}
							class="hover:text-indigo-400 transition-colors flex items-center gap-2"
							>–¢–∞—Ä–∏—Ñ—ã <span
								class="text-[10px] bg-indigo-500/20 text-indigo-400 px-1.5 py-0.5 rounded border border-indigo-500/30"
								>–í—ã–≥–æ–¥–Ω–æ</span
							></a
						>
					</li>
				</ul>
			</div>

			<!-- –ö–æ–ª–æ–Ω–∫–∞ 3: –ü–æ–º–æ—â—å (—Å –ø–∞—Å—Ö–∞–ª–∫–∞–º–∏) -->
			<div>
				<h4 class="text-white font-bold mb-6">–ò–Ω—Ñ–æ</h4>
				<ul class="space-y-4 text-sm">
					<li>
						<a href={resolve('/rules')} class="hover:text-indigo-400 transition-colors"
							>–ü—Ä–∞–≤–∏–ª–∞ (—Å–∫—É—á–Ω—ã–µ)</a
						>
					</li>
					<li>
						<button
							onclick={handleSupport}
							class="hover:text-indigo-400 transition-colors text-left"
							>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å</button
						>
					</li>
					<li>
						<a href={resolve('/contacts')} class="hover:text-indigo-400 transition-colors"
							>–ì–¥–µ –Ω–∞—Å –Ω–∞–π—Ç–∏</a
						>
					</li>
				</ul>
			</div>

			<!-- –ö–æ–ª–æ–Ω–∫–∞ 4: –ü–æ–¥–ø–∏—Å–∫–∞ -->
			<div>
				<h4 class="text-white font-bold mb-6">–ù–∏–∫–∞–∫–æ–≥–æ —Å–ø–∞–º–∞</h4>
				<div class="flex gap-2 mb-6">
					<Input
						placeholder="email@domain.com"
						class="bg-zinc-900/50 border-zinc-800 text-white placeholder:text-zinc-600 focus-visible:ring-indigo-500 focus-visible:border-indigo-500"
					/>
					<Button
						size="icon"
						onclick={handleSubscribe}
						class="bg-white text-zinc-950 hover:bg-indigo-500 hover:text-white transition-all"
					>
						<Send class="w-4 h-4" />
					</Button>
				</div>
				<div class="flex gap-4">
					<a
						href="https://github.com/Zilusion"
						target="_blank"
						class="p-2 bg-zinc-900 rounded-full hover:bg-white hover:text-black transition-colors border border-zinc-800"
					>
						<Github class="w-5 h-5" />
					</a>
					<div
						class="p-2 bg-zinc-900 rounded-full text-rose-500 border border-zinc-800 cursor-help"
						title="–°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é"
					>
						<Heart class="w-5 h-5 fill-current" />
					</div>
				</div>
			</div>
		</div>

		<Separator class="bg-zinc-900 mb-8" />

		<div class="flex flex-col md:flex-row justify-between items-center text-sm gap-4 text-zinc-600">
			<div>&copy; 2025 Rental Inc. –ú—ã –∑–Ω–∞–µ–º, –≥–¥–µ –≤—ã –ø—Ä–∏–ø–∞—Ä–∫–æ–≤–∞–ª–∏—Å—å.</div>
			<div class="flex gap-6">
				<a href={resolve('/legal/offer')} class="hover:text-white transition-colors">–û—Ñ–µ—Ä—Ç–∞</a>
				<a href={resolve('/legal/privacy')} class="hover:text-white transition-colors"
					>–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</a
				>
			</div>
		</div>
	</div>
</footer>
